<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctors List</title>
      <%- include("partials/template.ejs") %>

   <!-- Bootstrap 5 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" integrity="sha512-GWZpQnDBwXoFlM9VKnR8iZzGrJCUi6yi5X1Xn3QeU3cM9A8H69I4t6eLtXn1KkFNh5sZ7E5KPOhxjQbxi8Yo8g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- DataTables -->
  <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-2.3.1/datatables.min.css" />
<style>
.title {
    position: absolute;       /* keep your existing positioning */
    top: 5px;
    left: 650px;              /* same as before */
    display: flex;
    align-items: center;
    font-family: 'Inter', sans-serif;
    font-size: 28px;
    font-weight: 700;
    color: #198754;           /* healthcare green */
}

.title i {
    margin-right: 10px;
    font-size: 32px;
    color: #0dcaf0;           /* soft blue accent */
}

/* underline effect without affecting layout */
.title span::after {
    content: '';
    display: block;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, #0dcaf0, #198754);
    margin-top: 5px;
    border-radius: 2px;
}

.container {
   position: relative;
    top: 150px;
    left: 21.5%;
    transform: translateX(-50%);
    width: 70%;
    max-width: 1400px;   /* optional, prevent table from stretching too much */
}

.clickable-row {
    cursor: pointer;
}
.clickable-row:hover {
    background-color: #eef6ff !important;
}
.table-sm th, .table-sm td {
    padding: 0.25rem 0.5rem; /* smaller table spacing */
}


</style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.0-beta2/js/bootstrap.bundle.min.js"></script>

<!-- Page Title -->
<div class="title">
    <i class="fa-solid fa-user-doctor"></i>
    <span><%= __('listDoctor.header') %></span>
</div>

<div class="container">
    <div class="row my-4">
        <div class="col-lg-12">
            <div class="table-responsive">
                <table id="table" class="table table-striped table-hover table-sm text-center align-middle">
                    <thead class="table-dark">
                        <tr>
                            <th><%= __('listDoctor.table.fname') %></th>
                            <th><%= __('listDoctor.table.lname') %></th>
                            <th><%= __('listDoctor.table.speciality') %></th>
                            <th><%= __('listDoctor.table.phone') %></th>
                            <th><%= __('listDoctor.table.doctorID') %></th>
                            <th><%= __('listDoctor.table.select') %></th>
                        </tr>
                    </thead>
                    <tbody>
                        <% appointment.forEach(function(appointment){ %>
                        <tr class="clickable-row" onclick="window.location.href='doctorsProfile?doctoreID=<%= appointment.doctoreID %>'">
                            <td><%= appointment.fname %></td>
                            <td><%= appointment.lname %></td>
                            <td><%= appointment.speciality %></td>
                            <td><%= appointment.phoneNumber %></td>
                            <td><%= appointment.doctoreID %></td>
                            <td>
                                <a href="doctorsProfile?doctoreID=<%= appointment.doctoreID %>" onclick="event.stopPropagation();" class="text-success">
                                    <i class="fa-solid fa-eye fa-lg"></i> <%= __('listDoctor.view_button') %>
                                </a>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- DataTables -->
<script src="https://cdn.datatables.net/v/dt/dt-2.3.1/datatables.min.js"></script>

<script>
$(document).ready(function() {
    const table = $("#table").DataTable({
        order: [0, "desc"],          // Sort by first column
        responsive: true,            // Responsive layout
        pageLength: 5,               // Default rows per page
        lengthMenu: [5, 10, 20, 50, 100] // User selectable page size
    });

    // Make rows clickable
    $("#table tbody").on("click", "tr", function() {
        const href = $(this).data("href");
        if(href) window.location.href = href;
    });

    // Change cursor for clickable rows
    $("#table tbody").css('cursor', 'pointer');
});
</script>



</body>
</html>
âœ…